<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>智能瞭望系统</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- 导航栏 -->
    <nav id="navbar" class="navbar">
        <div class="navbar-brand">
            <h1 class="app-name">智能瞭望系统</h1>
        </div>
        
        <div class="navbar-menu">
            <a href="#data-collection" class="navbar-item active">数据采集</a>
            <a href="#data-management" class="navbar-item">数据管理</a>
            <a href="#search-source-management" class="navbar-item">搜索源管理</a>
            <a href="#crawler-rule-management" class="navbar-item">爬虫规则管理</a>
            <a href="#profile" class="navbar-item">个人资料</a>
        </div>
    </nav>
    
    <!-- 主内容区域 -->
    <main id="main-content" class="main-content">
        <!-- 数据采集页面 -->
        <section id="data-collection" class="page active">
            <div class="page-header">
                <h2>数据采集</h2>
            </div>
            
            <div class="search-controls">
                <input type="text" id="search-content" placeholder="请输入搜索内容">
                <input type="number" id="max-pages" placeholder="筛选页数" min="1" value="1">
                <button id="start-search" class="btn btn-primary">开始搜索</button>
            </div>
            
            <div id="search-status" class="status-message"></div>
            
            <div id="search-results" class="search-results">
                <!-- 数据卡片将通过JavaScript动态生成 -->
            </div>
            
            <div id="pagination" class="pagination">
                <!-- 分页控件将通过JavaScript动态生成 -->
            </div>
            
            <div class="selection-controls">
                <button id="select-all" class="btn btn-secondary">全选</button>
                <button id="deselect-all" class="btn btn-secondary">取消全选</button>
                <button id="filter-selected" class="btn btn-primary">筛选选中数据</button>
            </div>
        </section>
        
        <!-- 数据管理页面 -->
        <section id="data-management" class="page">
            <div class="page-header">
                <h2>数据管理</h2>
            </div>
            
            <div class="search-controls">
                <input type="text" id="data-search-content" placeholder="请输入搜索内容">
                <select id="data-search-field">
                    <option value="title">标题</option>
                    <option value="summary">摘要</option>
                    <option value="data_source">数据来源</option>
                </select>
                <button id="search-data" class="btn btn-primary">搜索</button>
            </div>
            
            <div id="data-management-status" class="status-message"></div>
            
            <div id="data-list" class="data-list">
                <!-- 数据列表将通过JavaScript动态生成 -->
            </div>
            
            <div class="selection-controls">
                <button id="select-all-data" class="btn btn-secondary">全选</button>
                <button id="deselect-all-data" class="btn btn-secondary">取消全选</button>
                <button id="delete-selected-data" class="btn btn-danger">删除选中数据</button>
                <button id="analyze-selected-data" class="btn btn-primary">分析选中数据</button>
            </div>
        </section>
        
        <!-- 搜索源管理页面 -->
        <section id="search-source-management" class="page">
            <div class="page-header">
                <h2>搜索源管理</h2>
                <button id="refresh-search-sources" class="btn btn-primary">刷新</button>
            </div>
            
            <div id="search-source-status" class="status-message"></div>
            
            <div id="search-source-list" class="search-source-list">
                <!-- 搜索源列表将通过JavaScript动态生成 -->
            </div>
        </section>
        
        <!-- 个人资料页面 -->
        <section id="profile" class="page">
            <div class="page-header">
                <h2>个人资料</h2>
            </div>
            
            <div class="profile-info">
                <div class="info-item">
                    <label>用户名:</label>
                    <span id="profile-username"></span>
                </div>
                
                <div class="info-item">
                    <label>权限等级:</label>
                    <span id="profile-permission-level"></span>
                </div>
            </div>
            
            <button id="logout" class="btn btn-danger">退出登录</button>
        </section>
        
        <!-- 爬虫规则管理页面 -->
        <section id="crawler-rule-management" class="page">
            <div class="page-header">
                <h2>爬虫规则管理</h2>
            </div>
            
            <!-- 网页嗅探功能 -->
            <div class="sniffer-section">
                <h3>网页内容嗅探</h3>
                
                <div class="sniffer-controls">
                    <input type="text" id="sniff-url" placeholder="请输入要嗅探的URL">
                    <input type="text" id="sniff-source-id" placeholder="源ID">
                    <input type="text" id="sniff-source-name" placeholder="源名称">
                    <button id="start-sniff" class="btn btn-primary">开始嗅探</button>
                </div>
                
                <div id="sniff-status" class="status-message"></div>
                
                <div class="sniff-results">
                    <h4>嗅探结果</h4>
                    <div class="result-item">
                        <label>标题XPath:</label>
                        <input type="text" id="title-xpath" readonly>
                    </div>
                    <div class="result-item">
                        <label>内容XPath:</label>
                        <input type="text" id="content-xpath" readonly>
                    </div>
                    <div class="result-item">
                        <label>图片XPath:</label>
                        <input type="text" id="image-xpath" readonly>
                    </div>
                    <div class="result-item">
                        <label>URL XPath:</label>
                        <input type="text" id="url-xpath" placeholder="请输入URL XPath">
                    </div>
                    <div class="result-item">
                        <label>请求头:</label>
                        <textarea id="request-headers" readonly rows="10"></textarea>
                    </div>
                    <div class="result-item">
                        <label>备注:</label>
                        <textarea id="rule-remarks" placeholder="请输入备注信息" rows="3"></textarea>
                    </div>
                    <button id="save-rule" class="btn btn-primary">保存规则</button>
                </div>
            </div>
            
            <!-- 爬虫规则管理 -->
            <div class="rules-section">
                <h3>爬虫规则列表</h3>
                <button id="refresh-rules" class="btn btn-primary">刷新规则</button>
                <div id="rules-status" class="status-message"></div>
                
                <div id="rules-list" class="rules-list">
                    <!-- 规则列表将通过JavaScript动态生成 -->
                </div>
            </div>
        </section>
    </main>
    
    <!-- 数据卡片详情模态框 -->
    <div id="data-card-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            
            <div id="modal-data-card" class="data-card">
                <!-- 数据卡片内容将通过JavaScript动态生成 -->
            </div>
        </div>
    </div>
    
    <script src="js/websocket.js"></script>
    <script src="js/app.js"></script>
</body>
</html>